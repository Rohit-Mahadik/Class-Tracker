{% extends "Teacher/base.html" %}
{% load static %}

{% block content %}

<h4 class="container pb-2 borderline textcolor mt-3">Attendance {{user_name}}</h4>

<div class="container">
	<div class="row">
		<form action="" method="POST" class="student-attendance-form my-5 formbgcolor">
			{% csrf_token %}
			<div class="col-sm-5">
				<select name="year" id="year"  class="form-control ">
					<option value="2023">2023</option>
					<option value="2024">2024</option>
					<option value="2025">2025</option>
				</select>
			</div>
			
			<div class="col-sm-5">
				<select name="month" id="month"   class="form-control">
					<option value="1">Jan</option>
					<option value="2">Feb</option>
					<option value="3">Mar</option>
					<option value="4">Apr</option>
					<option value="5">May</option>
					<option value="6">Jun</option>
					<option value="7">Jul</option>
					<option value="8">Aug</option>
					<option value="9">Sep</option>
					<option value="10">Oct</option>
					<option value="11">Nov</option>
					<option value="12">Dec</option>
				</select>	
			</div>

			<input type="submit" class="btn buttoncolor">
		</form>
	</div>
</div>

{% if attendance %}

<div class="container my-3 formbgcolor p-2">
	<div class="row">
		<div class="col-sm-6 text-center">
			<h4>Present: {{attendance_count_present}}</h4>
		</div>
		<div class="col-sm-6 text-center">
			<h4>Absent: {{attendance_count_absent}}</h4>
		</div>
	</div>
</div>

<table class="table table-hover container text-center my-5">
	<thead>
	  <tr>
		<th scope="col">Name</th>
		<th scope="col">Subject</th>
		<th scope="col">Date</th>
		<th scope="col">Status</th>
	  </tr>
	</thead>
	<tbody>
	  {% for at in attendance %}
	  <tr>
		<td>{{ at.name }}</td>
		<td>{{ at.subject }}</td>
		<td>{{ at.date}}</td>
		<td>{{ at.status}}</td>
	  </tr>
	  {% endfor %}
	</tbody>
  </table>
{% else %}
	<h4 class="alert alert-info text-center container">No Attendance Record</h4>
{% endif %}
{% endblock content %}

<h1>Present: {{attendance_count_present}}</h1>
<h1>Absent: {{attendance_count_absent}}</h1>